---
layout: default
title: "Media"
permalink: /media/
classes: media-page
hide_captions: false
---

<style>
  /* Maximum specificity - target the exact page structure */
  body .page__inner-wrap .media-page .media-card,
  body .media-page .media-card,
  .media-card {
    min-width: 0 !important;
    background: #fff !important;
    border: 1px solid #e1e4e8 !important;
    border-radius: 8px !important;
    padding: 1rem !important;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
    margin: 0 !important;
    display: block !important;
    width: 100% !important;
    box-sizing: border-box !important;
    transition: box-shadow 0.2s ease !important;
  }
  
  /* Hover effect for cards */
  .media-card:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.15) !important;
    border-color: #d1d5da !important;
  }
  
  /* Grid container with tighter spacing */
  body .media-page .media-grid,
  .media-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
    grid-auto-rows: 10px !important;
    gap: 12px !important;
    align-items: start !important;
    width: 100% !important;
    max-width: none !important;
    padding: 0 !important;
    margin: 20px 0 !important;
  }
  
  /* Ensure full width for default layout */
  body .media-page {
    max-width: none !important;
    width: 100% !important;
    padding: 0 20px !important;
  }
  
  /* Spacing with higher specificity */
  .media-page .media-card h3,
  body .media-card h3 { 
    margin: 0 0 0.25rem !important; 
    font-size: 1rem !important;
    color: #333 !important;
  }
  
  .media-page .publication-meta,
  body .media-card .publication-meta { 
    margin: 0 0 0.5rem !important; 
    color: #666 !important; 
    font-size: 0.9rem !important;
  }
  
  .media-page .media-summary,
  body .media-card .media-summary { 
    margin-top: 0.5rem !important;
    font-size: 0.9rem !important;
  }
  
  /* Teaser image styling */
  .media-page .media-card .teaser-image,
  body .media-card .teaser-image {
    width: 100% !important;
    height: auto !important;
    border-radius: 4px !important;
    margin-bottom: 0.5rem !important;
  }

  /* Production debugging */
  .debug-info {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(255,0,0,0.9);
    color: white;
    padding: 10px;
    font-size: 12px;
    z-index: 9999;
    max-width: 300px;
    border: 2px solid yellow;
  }
</style>

<h1>Media</h1>

<div class="debug-info" id="debug-info">HTML loaded</div>

<section class="media-grid">
  {% assign media_items = site.media | sort: "date" | reverse %}
  {% for item in media_items %}
    <article class="media-card">
      
      {% if item.date %}
        <p class="publication-meta">
          <time datetime="{{ item.date | date_to_xmlschema }}">{{ item.date | date: "%B %Y" }}</time>
        </p>
      {% endif %}

      <h3 class="archive__item-title">
        {% if item.link %}<a href="{{ item.link }}">{{ item.title }}</a>{% else %}{{ item.title }}{% endif %}
      </h3>

      {% if item.summary or item.excerpt %}
        <div class="media-summary">{{ item.summary | default: item.excerpt | markdownify }}</div>
      {% endif %}

      {% if item.header.teaser %}
        <img src="{{ site.baseurl }}/images/{{ item.header.teaser }}" alt="{{ item.title }}" class="teaser-image">
      {% endif %}

      <div class="media-embed">
        {% if page.hide_captions %}
          {{ item.content | replace: 'data-instgrm-captioned', '' }}
        {% else %}
          {{ item.content }}
        {% endif %}
      </div>
    </article>
  {% endfor %}
</section>

<!-- Minimal test script -->
<script>
document.getElementById('debug-info').innerHTML = 'JS executing';
document.getElementById('debug-info').style.background = 'rgba(0,255,0,0.9)';

setTimeout(function() {
  var grid = document.querySelector('.media-grid');
  var items = grid.querySelectorAll('.media-card');
  
  document.getElementById('debug-info').innerHTML = 'Found ' + items.length + ' items';
  
  for (var i = 0; i < items.length; i++) {
    var rect = items[i].getBoundingClientRect();
    var rowSpan = Math.ceil((rect.height + 12) / 10);
    items[i].style.gridRowEnd = 'span ' + Math.max(1, rowSpan);
  }
  
  document.getElementById('debug-info').innerHTML = 'Masonry applied';
}, 1000);

setTimeout(function() {
  var grid = document.querySelector('.media-grid');
  var items = grid.querySelectorAll('.media-card');
  
  for (var i = 0; i < items.length; i++) {
    var rect = items[i].getBoundingClientRect();
    var rowSpan = Math.ceil((rect.height + 12) / 10);
    items[i].style.gridRowEnd = 'span ' + Math.max(1, rowSpan);
  }
  
  document.getElementById('debug-info').innerHTML = 'Second masonry pass';
}, 3000);
</script>

<script async src="https://www.instagram.com/embed.js"></script>
